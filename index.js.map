{"version":3,"file":"index.js","sources":["../src/home.js"],"sourcesContent":["//Логіка сторінки Home\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { refs } from \"./js/refs\";\nimport { STORAGE_KEYS } from \"./js/constants\";\nimport { pullData } from \"./js/products-api\";\nimport {\n    renderCategory,\n    renderGoods,\n    clearProductsList,\n    setCartCount,\n    setWishListCount\n} from \"./js/render-function\";\nimport {\n    switchCategory,\n    handleSelectProduct,\n    handleLoadMore,\n    searchSubmit,\n    clearSearch\n} from \"./js/handlers\"\nimport { hideModal } from \"./js/modal\";\nimport {\n    showLoader,\n    hideLoader,\n    showLoadMoreBtn,\n    hideLoadMoreBtn,\n    getGoodsUrl,\n} from \"./js/helpers\";\n\n// export let currentPage = 1;\n\npullData(STORAGE_KEYS.CATEGORIES_KEY)\n    .then(response => {\n        renderCategory(response.data)\n    }\n    )\n    .catch(error => iziToast.error({\n        message: `${error.message}`\n    }))\n\n\npullData(getGoodsUrl(STORAGE_KEYS.searchValue, STORAGE_KEYS.currentPage))\n    .then(response => {\n        renderGoods(response.data.products);\n        if (response.data.total > (STORAGE_KEYS.currentPage - 1) * 12) {\n            STORAGE_KEYS.currentPage++;\n            showLoadMoreBtn();\n        } else {\n            hideLoadMoreBtn();\n        }\n    })\n    .catch(error => iziToast.error({\n        message: `${error.message}`\n    }))\n    .finally(() => {\n        hideLoader()\n\n    });\n\nrefs.listCategories.addEventListener('click', switchCategory);\nrefs.listProducts.addEventListener('click', handleSelectProduct);\nrefs.form.addEventListener('submit', searchSubmit);\nrefs.clearSearchBtn.addEventListener('click', clearSearch);\nrefs.modal.addEventListener('click', hideModal);\nrefs.loadMoreBtn.addEventListener('click', handleLoadMore);\n\nsetCartCount();\nsetWishListCount();"],"names":["pullData","STORAGE_KEYS","response","renderCategory","error","iziToast","getGoodsUrl","renderGoods","showLoadMoreBtn","hideLoadMoreBtn","hideLoader","refs","switchCategory","handleSelectProduct","searchSubmit","clearSearch","hideModal","handleLoadMore","setCartCount","setWishListCount"],"mappings":"iPAgCAA,EAASC,EAAa,cAAc,EAC/B,KAAKC,GAAY,CACdC,EAAeD,EAAS,IAAI,CAC/B,CACA,EACA,MAAME,GAASC,EAAS,MAAM,CAC3B,QAAS,GAAGD,EAAM,OAAO,EACjC,CAAK,CAAC,EAGNJ,EAASM,EAAYL,EAAa,YAAaA,EAAa,WAAW,CAAC,EACnE,KAAKC,GAAY,CACdK,EAAYL,EAAS,KAAK,QAAQ,EAC9BA,EAAS,KAAK,OAASD,EAAa,YAAc,GAAK,IACvDA,EAAa,cACbO,KAEAC,GAEZ,CAAK,EACA,MAAML,GAASC,EAAS,MAAM,CAC3B,QAAS,GAAGD,EAAM,OAAO,EACjC,CAAK,CAAC,EACD,QAAQ,IAAM,CACXM,EAAY,CAEpB,CAAK,EAELC,EAAK,eAAe,iBAAiB,QAASC,CAAc,EAC5DD,EAAK,aAAa,iBAAiB,QAASE,CAAmB,EAC/DF,EAAK,KAAK,iBAAiB,SAAUG,CAAY,EACjDH,EAAK,eAAe,iBAAiB,QAASI,CAAW,EACzDJ,EAAK,MAAM,iBAAiB,QAASK,CAAS,EAC9CL,EAAK,YAAY,iBAAiB,QAASM,CAAc,EAEzDC,IACAC,EAAkB"}